<section>
  <h2><i class="pmap-1"></i>Servers</h2>

  <div class="pmap-table search-bar">
    <div class="tbody-wrapper filter-bar">
      <div class="tbody">
        <div class="tr">
          <div class="cell">
            <div class="filter-label">
              <span>
                Filter by
              </span>
            </div>
            <div class="filter-input">
              <select class="form-control" [(ngModel)]="search.type">
                <option [ngValue]="0">-- select method --</option>
                <option [ngValue]="1">Name</option>
                <option [ngValue]="2">Architecture</option>
                <option [ngValue]="3">Attribute</option>
              </select>
            </div>
          </div>
          <div [hidden]="search.type === 3 || search.type === 0">
            <div class="cell">
              <div class="filter-label">
                <span>
                  Search term:
                </span>
              </div>
              <div class="filter-input">
                <input type="text" class="form-control" [(ngModel)]="search.text" />
              </div>
            </div>
            <div class="cell"><button type="button" class="btn-event filter-button" (click)="filterServers(search)"><i class="pmap-25"></i> filter </button></div>
            <div class="cell"><button type="button" class="btn-event filter-button" (click)="clearFilter(search)"><i class="pmap-25"></i> clear filter </button></div>
          </div>
          <div [hidden]="search.type !== 3">
            <div class="cell">
              <div class="filter-label">
                <span>
                  Attribute:
                </span>
              </div>
              <div class="filter-input">
                <input type="text" class="form-control" [(ngModel)]="search.attrName" />
              </div>
            </div>
            <div class="cell">
                <div class="filter-label">
                  <span>
                    Value:
                  </span>
                </div>
                <div class="filter-input">
                  <input type="text" class="form-control" [(ngModel)]="search.text" />
                </div>
            </div>
            <div class="cell"><button type="button" class="btn-event filter-button" (click)="filterServers(search)"><i class="pmap-25"></i> filter </button></div>
            <div class="cell"><button type="button" class="btn-event filter-button" (click)="clearFilter(search)"><i class="pmap-25"></i> clear filter </button></div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="pmap-table">
    <div class="thead-wrapper">
      <div class="thead">
        <div class="tr">
          <div class="cell"><span>Status</span></div>
          <div class="cell"><span class="header-name">Name</span></div>
          <div class="cell"><span class="header-url">IP</span></div>
          <div class="cell"><span class="header-hostname">HostName</span></div>
          <div class="cell"><span class="header-arch">Architecture</span></div>
          <div class="cell"><span class="header-freeSpace">Free Disk Space</span></div>
          <div class="cell"><span class="header-respTime">Response Time</span></div>
          <div class="cell"></div>
        </div>
      </div>
    </div>
    <div class="tbody-wrapper">
      <div class="tbody">
        <div class="tr" *ngFor="let agent of agents">
          <div [hidden]="!agent.alive"><span class="cell"><i class="green server-status"></i></span></div>
          <div [hidden]="agent.alive"><span class="cell"><i class="red server-status"></i></span></div>
          <div class="cell"><span class="server-name">{{ agent.name }}</span></div>
          <div class="cell"><span class="server-url">{{ agent.url }}</span></div>
          <div class="cell"><span class="server-hostname">{{ agent.hostname }}</span></div>
          <div class="cell"><span class="server-arch">{{ agent.arch }}</span></div>
          <div class="cell"><span class="server-freeSpace">{{ agent.freeSpace }}</span></div>
          <div class="cell"><span class="server-respTime">{{ agent.respTime }}</span></div>
          <div class="cell"><button type="button" (click)="editAgent(agent)"><i class="pmap-3"></i></button></div>
          <!--<div class="cell"><button type="button" (click)="deleteAgent(agentIndex)"><i class="pmap-27"></i></button></div>-->
        </div>
      </div>
    </div>
  </div>
</section>