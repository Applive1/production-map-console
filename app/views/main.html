
<div class="container-fluid row">
    <div class="col-md-2">
	    <accordion close-others="False">
		    <accordion-group heading="Maps">
		    	<js-tree tree-plugins="dnd,sort,search,contextmenu,types"
                         tree-contextmenu="jsTreeContextMenu"
                         tree-data="scope"
                         tree-model="projects"
                         tree-dnd="jsTreeDragConfig"
                         tree-types="jsTreeTypes"
                         tree-events="changed:onTreeItemClick"
                         context-menu data-target="menu-tree"></js-tree>
		    </accordion-group>
		    <accordion-group heading="Map Items">
			    <div class="pm_block" ng-drag="true" ng-drag-data="block" data-ng-repeat="block in pm_blocks" data-ng-mousedown="changeMode(block.text)">
				    <img data-ng-src="{{block.img_url}}" />
	    			<span>{{block.text}}</span>
	    		</div>
	    		<!-- <div ng-drag-clone="">
			      <img data-ng-src="{{clonedData.img_url}}" />
	    		  <span>{{clonedData.text}}</span>
			  	</div> -->
		    </accordion-group>
		</accordion>
    </div>
    <div class="col-md-8">
		<tabset ng-if="map">
		    <tab heading="{{map.name}}">
		      <pm-map-designer map-structure="map.structure" map-locked="map.isLocked"  click-mode="block_mode"></pm-map-designer>
		      <button data-ng-disabled="btn_disabled" type="button" class="btn btn-default" data-ng-click="execute_map(map)"> {{ button_text }} </button>
              <button data-ng-disabled="btn_disabled" type="button" class="btn btn-default" data-ng-click="saveMap(map)"> save </button>
		    </tab>
		  </tabset>
		  <div style="border-style: solid;border-width: 1px;">
		  	Messages:
		  	<div class="table-responsive">
                <table class="table table-hover" style="border-style: solid;border-width: 1px;">
                    <tr>
                        <th>Date</th>
                        <th>Message</th>
                    </tr>
                    <tr data-ng-repeat="message in messages | orderBy:'date'" data-ng-dblclick="showMessage(message)">
                        <td>{{message.date}}</td>
                        <td>{{message.content |  cut:true:20:' ...'}}</td>
                    </tr>
                </table>
            </div>
		  </div>
    </div>
</div>
<div class="dropdown" id="menu-tree" style="position: fixed">
    <ul class="dropdown-menu" role="menu">
        <li>
            <a ng-click="createProject()">Add Project</a>
        </li>
    </ul>
</div>